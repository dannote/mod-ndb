##
## httpd.conf for testing mod_ndb with Apache 1.3
## (based on the httpd.conf distributed with the httpd source code)
##


  
ServerRoot "@AP_DIR@"
DocumentRoot "@AP_DIR@/example-scripts"
User @AP_USER@
Group @AP_GROUP@

PidFile "logs/httpd.pid"
ScoreBoardFile "logs/httpd.scoreboard"

# The rest should be OK...

ServerType standalone

LoadModule config_log_module  modules/mod_log_config.so
LoadModule mime_module        modules/mod_mime.so
LoadModule status_module      modules/mod_status.so
LoadModule info_module        modules/mod_info.so
LoadModule dir_module         modules/mod_dir.so
LoadModule action_module      modules/mod_actions.so
LoadModule access_module      modules/mod_access.so
LoadModule auth_module        modules/mod_auth.so

LoadModule ndb_module         mod_ndb.so

ClearModuleList
AddModule mod_log_config.c
AddModule mod_mime.c
AddModule mod_status.c
AddModule mod_info.c
AddModule mod_dir.c
AddModule mod_actions.c
AddModule mod_access.c
AddModule mod_auth.c
AddModule mod_so.c

AddModule mod_ndb_ap13.cc

DefaultType text/plain
AddType application/x-httpd-php .php

CustomLog "logs/ndb_access_log" common
ErrorLog "logs/ndb_error_log"
LogFormat "%h %l %u %t \"%r\" %>s %b" common


<IfModule mod_ndb_ap13.cc>
 <Location /ndb>
  SetHandler ndb-cluster
  Database mod_ndb_test
 </Location>
 
 <Location /ndb-commit-all>
   SetHandler ndb-exec-batch
 </Location>

Include cluster.conf
Include bench/httpd.conf
Include example1/ex1_httpd.conf
Include example2/ex2_httpd.conf
Include Tests/httpd.conf
  

</IfModule>

MinSpareServers 1
MaxSpareServers 5
StartServers 2
MaxClients 20
MaxRequestsPerChild 100000
HostnameLookups Off
ServerSignature On
ExtendedStatus On
Timeout 300
KeepAlive On
MaxKeepAliveRequests 100
KeepAliveTimeout 15

