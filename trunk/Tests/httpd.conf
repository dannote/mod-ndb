
<Location /ndb/test>
  Database mod_ndb_tests
</Location>

### Data type tests

<Location /ndb/test/typ1>
  SELECT id, name, color, nvisits, channel FROM typ1 
  USING ORDERED INDEX channel ORDER ASC ;
</Location>

<Location /ndb/test/typ2>
  Table typ2 
  PrimaryKey i
  Columns i t ut s us m um 
  AllowUpdate i t ut s us m um 
  Deletes On
</Location>

<Location /ndb/test/typ3>
  Select i, d1, d2, d3, d4 from typ3 where primary key = i;
  AllowUpdate i d1 d2 d3 d4
  Deletes On
</Location>

<Location /ndb/test/typ4> 
  Table typ4
  PrimaryKey i
  Columns i t d dt ts 
  AllowUpdate i t d dt ts 
  Deletes On
</Location>

<Location /ndb/test/typ5>
  Deletes On
  Table typ5
  PrimaryKey i
  Columns i c
  AllowUpdate i c 
</Location>

<Location /ndb/test/typ5_ls>
  SELECT c from typ5 using ordered index c_idx order asc ;
</Location>

<Location /ndb/test/typ5_del> 
  DELETE FROM typ5 where unique index c_idx$unique = $c; 
</Location>

<Location /ndb/test/typ6>
 DefaultType "text/json; charset=utf-8"
 Table typ6
 Columns i j name
 UniqueIndex name$unique name
 AllowUpdate name
 PrimaryKey i j
 PathInfo i/j
 Format JSON
</Location>

<Location /ndb/test/typ7>
 Table typ7
 AllowUpdate id vc01 ts
 PrimaryKey id
 Deletes On
</Location>

<Location /ndb/test/typ7tab>
 SELECT id, vc01 from typ7 using ordered index;
</Location>

### "session handling" tests
#
<Location /ndb/test/ses_list>
  SELECT sess_id as session, 
         sess_var_name as variable, 
         sess_var_value as value 
  FROM ses0
  USING ORDERED INDEX ORDER ASC;
</Location>

<Location /ndb/test/ses>
  Table ses0
  AllowUpdate sess_id sess_var_name sess_var_value
  PrimaryKey id var 
  Deletes On
</Location>

<Location /ndb/test/sesx>
  SELECT sess_id, sess_var_name, sess_var_value FROM ses0
    USING ORDERED INDEX WHERE id = skey;
  PathInfo skey
  Format XML
</Location> 

<Location /ndb/test/sesu>
  SELECT sess_id, sess_var_value AS user FROM ses0
    USING ORDERED INDEX WHERE id = $skey 
    AND sess_var_name = "user_name" ;
</Location>
#
###

### Filter tests
<Location /ndb/test/fil1>
  Select i, d1, d2  from typ3 using table scan;
  Filter d1 < d1 
  Filter d2 = d2
</Location>

<Location /ndb/test/fil2>
  SELECT id, name, color, nvisits, channel FROM typ1 
    USING ORDERED INDEX;
  Filter name = n1
  Filter name LIKE n2
  Filter name NOTLIKE n3 
  Filter color = c1
  Filter color LIKE c2
  Filter color NOTLIKE c3
  Filter channel < chan 
  Filter nvisits = v1
  Filter nvisits != v2 
  Filter nvisits >= v3
</Location> 


### Dump output formats
<Location /ndb/test/format>
  SetHandler ndb-dump-format
</Location>

### Output formats
<ResultFormat "HAL">
  Format HAL = "HAL says, \"I'm afraid I can't do that, Dave.\"\n"
</ResultFormat>

<Location /ndb/test/hal>
  SELECT sess_id, sess_var_name, sess_var_value FROM ses0
    USING ORDERED INDEX;
  Format HAL
</Location> 
